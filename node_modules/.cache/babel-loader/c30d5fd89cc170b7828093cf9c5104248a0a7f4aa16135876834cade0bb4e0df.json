{"ast":null,"code":"import { createOperatorSubscriber } from './OperatorSubscriber';\nexport function scanInternals(accumulator, seed, hasSeed, emitOnNext, emitBeforeComplete) {\n  return function (source, subscriber) {\n    var hasState = hasSeed;\n    var state = seed;\n    var index = 0;\n    source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n      var i = index++;\n      state = hasState ? accumulator(state, value, i) : (hasState = true, value);\n      emitOnNext && subscriber.next(state);\n    }, emitBeforeComplete && function () {\n      hasState && subscriber.next(state);\n      subscriber.complete();\n    }));\n  };\n}","map":{"version":3,"names":["createOperatorSubscriber","scanInternals","accumulator","seed","hasSeed","emitOnNext","emitBeforeComplete","source","subscriber","hasState","state","index","subscribe","value","i","next","complete"],"sources":["../../../../src/internal/operators/scanInternals.ts"],"sourcesContent":[null],"mappings":"AAEA,SAASA,wBAAwB,QAAQ,sBAAsB;AAW/D,OAAM,SAAUC,aAAaA,CAC3BC,WAA2D,EAC3DC,IAAO,EACPC,OAAgB,EAChBC,UAAmB,EACnBC,kBAAqC;EAErC,OAAO,UAACC,MAAqB,EAAEC,UAA2B;IAIxD,IAAIC,QAAQ,GAAGL,OAAO;IAItB,IAAIM,KAAK,GAAQP,IAAI;IAErB,IAAIQ,KAAK,GAAG,CAAC;IAGbJ,MAAM,CAACK,SAAS,CACdZ,wBAAwB,CACtBQ,UAAU,EACV,UAACK,KAAK;MAEJ,IAAMC,CAAC,GAAGH,KAAK,EAAE;MAEjBD,KAAK,GAAGD,QAAQ,GAEZP,WAAW,CAACQ,KAAK,EAAEG,KAAK,EAAEC,CAAC,CAAC,IAI1BL,QAAQ,GAAG,IAAI,EAAGI,KAAK,CAAC;MAG9BR,UAAU,IAAIG,UAAU,CAACO,IAAI,CAACL,KAAK,CAAC;IACtC,CAAC,EAGDJ,kBAAkB,IACf;MACCG,QAAQ,IAAID,UAAU,CAACO,IAAI,CAACL,KAAK,CAAC;MAClCF,UAAU,CAACQ,QAAQ,EAAE;IACvB,CAAE,CACL,CACF;EACH,CAAC;AACH"},"metadata":{},"sourceType":"module","externalDependencies":[]}